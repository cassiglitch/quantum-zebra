<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jay Fighting Game</title>
    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #000;
        }

        #game-container {
            position: relative;
            width: 800px;
            height: 400px;
            background-color: #f0f0f0;
            border: 2px solid #333;
        }

        canvas {
            display: block;
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <canvas id="ninjagoCanvas" width="800" height="400"></canvas>
    </div>
    <script>
        const canvas = document.getElementById('ninjagoCanvas');
        const ctx = canvas.getContext('2d');

        let frame = 0;
        let animation = 'idle';
        let jayPosition = { x: 400, y: 300 };
        let isJumping = false;
        let jumpFrame = 0;

        function drawJay(x, y, state) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = 'blue';

            // Head
            ctx.beginPath();
            ctx.arc(x, y, 20, 0, Math.PI * 2);
            ctx.fill();

            // Body
            ctx.fillRect(x - 15, y + 20, 30, 40);

            // Arms
            ctx.fillRect(x - 35, y + 20, 20, 10);
            ctx.fillRect(x + 15, y + 20, 20, 10);

            // Legs
            ctx.fillRect(x - 15, y + 60, 10, 30);
            ctx.fillRect(x + 5, y + 60, 10, 30);

            if (state === 'walking') {
                ctx.fillRect(x - 35, y + 30, 20, 10);
                ctx.fillRect(x + 15, y + 30, 20, 10);
            } else if (state === 'punching') {
                ctx.fillRect(x - 50, y + 20, 35, 10);
            } else if (state === 'spinjitzu') {
                ctx.save();
                ctx.translate(x, y);
                ctx.rotate(frame * 0.2);
                ctx.fillRect(-15, -60, 30, 120);
                ctx.restore();
            } else if (state === 'jump') {
                ctx.fillRect(x - 15, y + 10, 30, 10);
            } else if (state === 'lightning') {
                ctx.fillStyle = 'yellow';
                ctx.fillRect(x - 50, y + 20, 35, 10);
                ctx.fillRect(x - 65, y + 20, 15, 10);
            }
        }

        function animateJay() {
            frame++;

            if (animation === 'idle') {
                drawJay(jayPosition.x, jayPosition.y, 'idle');
            } else if (animation === 'walking') {
                jayPosition.x += Math.sin(frame * 0.1) * 2;
                drawJay(jayPosition.x, jayPosition.y, 'walking');
            } else if (animation === 'punching') {
                drawJay(jayPosition.x, jayPosition.y, 'punching');
            } else if (animation === 'spinjitzu') {
                drawJay(jayPosition.x, jayPosition.y, 'spinjitzu');
            } else if (animation === 'jump') {
                if (!isJumping) {
                    isJumping = true;
                    jumpFrame = frame;
                }
                let jumpHeight = Math.sin((frame - jumpFrame) * 0.1) * 50;
                jayPosition.y = 300 - jumpHeight;
                if (jumpHeight <= 0) {
                    isJumping = false;
                    animation = 'idle';
                    jayPosition.y = 300;
                }
                drawJay(jayPosition.x, jayPosition.y, 'jump');
            } else if (animation === 'lightning') {
                drawJay(jayPosition.x, jayPosition.y, 'lightning');
            }

            requestAnimationFrame(animateJay);
        }

        // Event listeners to change animation states
        document.addEventListener('keydown', (event) => {
            switch (event.key) {
                case 'ArrowRight':
                    animation = 'walking';
                    break;
                case 'ArrowUp':
                    if (!isJumping) {
                        animation = 'jump';
                    }
                    break;
                case 'p':
                    animation = 'punching';
                    break;
                case 's':
                    animation = 'spinjitzu';
                    break;
                case 'l':
                    animation = 'lightning';
                    break;
                default:
                    animation = 'idle';
                    break;
            }
        });

        animateJay();
    </script>
</body>
</html>
